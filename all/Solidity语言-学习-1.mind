{"root":{"data":{"id":"dckr2f60gsw0","created":1757063610074,"text":"Solidity语言-学习-1"},"children":[{"data":{"id":"dckr3du78940","created":1757063685547,"text":"1.搭建僵尸工厂","expandState":"collapse"},"children":[{"data":{"id":"dd2ehynt3jc0","created":1758856232763,"text":"基础："},"children":[{"data":{"id":"dd2ei8hdjoo0","created":1758856254142,"text":"数组创建："},"children":[{"data":{"id":"dd2eia1c71k0","created":1758856257526,"text":"eg：uint[]"},"children":[{"data":{"id":"dd2eie20q3c0","created":1758856266274,"text":"uint[] r=new uint[](n);","priority":2},"children":[]},{"data":{"id":"dd2eiv5djbs0","created":1758856303482,"text":"数组大小，放在多加的括号里"},"children":[]}]}]}]},{"data":{"id":"dckr6z1lbo80","created":1757063966799,"text":"结构体：","expandState":"expand"},"children":[{"data":{"id":"dckr3l5ixmw0","created":1757063701470,"text":"构建结构体：","expandState":"expand"},"children":[{"data":{"id":"dckr3q3bnco0","created":1757063712220,"text":"如同c语言一般"},"children":[]},{"data":{"id":"dckr3thntgg0","created":1757063719618,"text":"but"},"children":[]},{"data":{"id":"dckr3u9mt400","created":1757063721309,"text":"eg：struct  Person{ \n\tstring name;\n\tuint age;\n}"},"children":[]},{"data":{"id":"dckr60anu5c0","created":1757063891160,"text":"其初始化则“类似”于 java的建立对象"},"children":[]},{"data":{"id":"dckr684jsl40","created":1757063908205,"text":"Person per =Person（“傻逼”，30）;"},"children":[]}]},{"data":{"id":"dckr70hfvmo0","created":1757063969934,"text":"结构体数组：","expandState":"expand"},"children":[{"data":{"id":"dckr73chak80","created":1757063976165,"text":"带有public的"},"children":[{"data":{"id":"dckr74x16ag0","created":1757063979584,"text":"Person[ ] public pers; "},"children":[]}]},{"data":{"id":"dcqp375dwjk0","created":1757667388506,"text":"array.push( ) ","expandState":"expand"},"children":[{"data":{"id":"dcqp3dj1aeg0","created":1757667402392,"text":"竟然会返回一个uint类型，表明数组已经有几个元素了"},"children":[]}]}]},{"data":{"id":"dcpkiyj95u00","created":1757552958074,"text":"函数：","expandState":"expand"},"children":[{"data":{"id":"dcpkizojchc0","created":1757552960571,"text":"属性：","expandState":"expand"},"children":[{"data":{"id":"dcpkkystpxc0","created":1757553115381,"text":"公私："},"children":[{"data":{"id":"dcpkj0rmwe80","created":1757552962935,"text":"公有："},"children":[{"data":{"id":"dcpkj2rtdw00","created":1757552967299,"text":"默认，不必多说"},"children":[]}]},{"data":{"id":"dcpkj54ot9s0","created":1757552972431,"text":"私有："},"children":[{"data":{"id":"dcpkja0pb400","created":1757552983074,"text":"①函数名前要加“     _    ”（下划线）"},"children":[]},{"data":{"id":"dcpkji8mym80","created":1757553000968,"text":"②传参入口后 加 private "},"children":[]}]}]},{"data":{"id":"dcpkmhrvxww0","created":1757553235048,"text":"读取状态：","expandState":"expand","priority":5},"children":[{"data":{"id":"dcpkmla1zkw0","created":1757553242677,"text":"view（视图函数）："},"children":[{"data":{"id":"dcpknzjv8xk0","created":1757553352109,"text":"需知："},"children":[{"data":{"id":"dcpko0g7x0g0","created":1757553354065,"text":"getter方法自动标记为view "},"children":[]}]},{"data":{"id":"dcpkpg5adeo0","created":1757553466597,"text":"【可读取】但不可更改合约中的常态变量"},"children":[]}]},{"data":{"id":"dcpkmm6faxs0","created":1757553244634,"text":"pure（纯函数）："},"children":[{"data":{"id":"dcpkpmvashc0","created":1757553481230,"text":"【“不可”读取】且不可更改合约中的常态变量"},"children":[]}]},{"data":{"id":"dcpkrvoi8680","created":1757553657139,"text":"注意：","expandState":"expand"},"children":[{"data":{"id":"dcpkrz2qp400","created":1757553664530,"text":"在函数头中，是returns，return死"},"children":[]},{"data":{"id":"dd1rmo4dpeg0","created":1758791716113,"text":"还需知，一般都要带上view"},"children":[]}]}]}]},{"data":{"id":"dcpl358i1co0","created":1757554539945,"text":"伪随机函数："},"children":[{"data":{"id":"dcpl39re05s0","created":1757554549794,"text":"建立一个与 name 相关的hash"},"children":[]}]}]}]},{"data":{"id":"dcpl32g40tc0","created":1757554533875,"text":"事件：","expandState":"expand"},"children":[{"data":{"id":"dcpl4dtp0zc0","created":1757554637005,"text":"监听反应机制："},"children":[]},{"data":{"id":"dcqoxzgm2m80","created":1757666979950,"text":"建立事件：","expandState":"expand"},"children":[{"data":{"id":"dcpl5llhi6w0","created":1757554732287,"text":"格式：","expandState":"expand"},"children":[{"data":{"id":"dcpl5mhamcg0","created":1757554734210,"text":"event 事件名（参数）；"},"children":[]}]}]},{"data":{"id":"dcqp2iqspe00","created":1757667335382,"text":"触发事件："},"children":[{"data":{"id":"dcqp2nqz3140","created":1757667346276,"text":"格式："},"children":[{"data":{"id":"dcqp2ok78rk0","created":1757667348043,"text":"事件(传参)；"},"children":[]}]}]}]}]},{"data":{"id":"dcqq67bpn000","created":1757670445091,"text":"2、僵尸攻击人类","expandState":"collapse"},"children":[{"data":{"id":"dcqq6i9sbao0","created":1757670468920,"text":"映射（Mapping）和地址（Address）"},"children":[{"data":{"id":"dcqqczp85q00","created":1757670977043,"text":"映射："},"children":[{"data":{"id":"dcqqd1hd3ig0","created":1757670980922,"text":"格式："},"children":[{"data":{"id":"dcqqd2k4csg0","created":1757670983265,"text":"mapping（key => value） 映射名"},"children":[]}]}]}]},{"data":{"id":"dcqqnyyzlo00","created":1757671837463,"text":"msg.sender（地址）:"},"children":[{"data":{"id":"dcqqo305xk00","created":1757671846241,"text":"指的是当前调用者（智能合约）的addres"},"children":[{"data":{"id":"dcqqoqbz7e80","created":1757671897021,"text":"有点像 this.address"},"children":[]}]}]},{"data":{"id":"dcv01n7p04g0","created":1758104538782,"text":"方法：","expandState":"expand"},"children":[{"data":{"id":"dcqquobzkdc0","created":1757672362853,"text":"Require（条件）："},"children":[{"data":{"id":"dcqqy67v7xc0","created":1757672636879,"text":"有点像 if (条件){ } else{throw Exception}"},"children":[]}]},{"data":{"id":"dcqr0ugca3k0","created":1757672846362,"text":"is（继承） ：","expandState":"expand"},"children":[{"data":{"id":"dcqr6i2v1d40","created":1757673289611,"text":"contract 儿子 is 父亲 { \n}"},"children":[]}]},{"data":{"id":"dcqr74ehd600","created":1757673338203,"text":"引入（import）：","expandState":"expand"},"children":[{"data":{"id":"dcqr8c7k29c0","created":1757673433562,"text":"导入文件"},"children":[]},{"data":{"id":"dcqr8dng5zc0","created":1757673436700,"text":"导入同一目录下的文件：","expandState":"expand"},"children":[{"data":{"id":"dcqr8j7da0w0","created":1757673448788,"text":"import \". / 文件名.sol\"；","layout_right_offset":{"x":-10.999999672174454,"y":2.999999910593033}},"children":[]}]}]}]},{"data":{"id":"dcv017uormw0","created":1758104505344,"text":"关键词：","expandState":"expand"},"children":[{"data":{"id":"dcqr97we08o0","created":1757673502544,"text":"存储变量（Storage 与 memory）："},"children":[{"data":{"id":"dcuzg17wlf40","created":1758102845258,"text":"区分："},"children":[{"data":{"id":"dcqrakv78rk0","created":1757673609135,"text":"Storage变量是指“永久存储在区块链”中的变量。"},"children":[{"data":{"id":"dcqrdm2m2og0","created":1757673846852,"text":"一般在（函数之外声明的变量 ==状态变量）"},"children":[{"data":{"id":"dcqrdzx2cao0","created":1757673876991,"text":"默认是“Storage”"},"children":[]}]}]},{"data":{"id":"dcqrav900cw0","created":1757673631737,"text":"Memory变量则是“临时的”"},"children":[{"data":{"id":"dcqrcotwwhk0","created":1757673774492,"text":"对某合约调用完成时，即移除"},"children":[]},{"data":{"id":"dcqrebj9fp40","created":1757673902278,"text":"一般在（函数内部声明的变量是“内存”型）"},"children":[]}]}]},{"data":{"id":"dcuzg3bdci80","created":1758102849821,"text":"根据例子理解："},"children":[{"data":{"id":"dcuzg6igysg0","created":1758102856781,"text":"storage类似于带有指针性质的"},"children":[]},{"data":{"id":"dcuzgiaab1k0","created":1758102882407,"text":"memory更像是一个普通的temp变量"},"children":[]}]}]},{"data":{"id":"dcuztpvgrm80","created":1758103917659,"text":"internal 与 external："},"children":[{"data":{"id":"dcuztx0e48g0","created":1758103933195,"text":"internal像private"},"children":[{"data":{"id":"dcuzu115tp40","created":1758103941948,"text":"只不过能被 孩子调用"},"children":[]}]},{"data":{"id":"dcuzu9y6euo0","created":1758103961359,"text":"external像public"},"children":[{"data":{"id":"dcuzufedek00","created":1758103973222,"text":"不过是崇洋媚外，合约内其他函数不可调用"},"children":[]}]},{"data":{"id":"dcuzvcod1pc0","created":1758104045660,"text":"总结："},"children":[{"data":{"id":"dcuzvdn7hx40","created":1758104047767,"text":"一个托起孩子，一个崇洋媚外"},"children":[]}]}]}]},{"data":{"id":"dcv00y88w280","created":1758104484396,"text":"实现与其他合约的交互：","expandState":"expand"},"children":[{"data":{"id":"dcv012scijk0","created":1758104494318,"text":"定义接口：","expandState":"expand"},"children":[{"data":{"id":"dcvjr5gzdx40","created":1758160138718,"text":"不同于java"},"children":[]},{"data":{"id":"dcvjr813nuw0","created":1758160144288,"text":"他这种接口，只需声明要交互的函数"},"children":[{"data":{"id":"dcvjti4sz600","created":1758160323008,"text":"没有函数体{ }，而是以；结尾"},"children":[]}]},{"data":{"id":"dcvjrhizqf40","created":1758160164961,"text":"即【把函数当接口】"},"children":[]},{"data":{"id":"dcvk3fbftkg0","created":1758161100521,"text":"格式：","expandState":"expand"},"children":[{"data":{"id":"dcvk3gbqik00","created":1758161102715,"text":"contract 接口名{\n作为接口的函数[直接抄],别抄方法体\n}"},"children":[]}]}]},{"data":{"id":"dcvk45vvkh40","created":1758161158353,"text":"使用接口："},"children":[{"data":{"id":"dcvk9psgnqw0","created":1758161593503,"text":"address 目标地址=0x……"},"children":[]},{"data":{"id":"dcvka387ihs0","created":1758161622753,"text":"接口合约 合约名=接口合约（目标地址）"},"children":[]},{"data":{"id":"dcvkalir1800","created":1758161662572,"text":"即可调用方法"},"children":[{"data":{"id":"dcvkas2xj4w0","created":1758161676853,"text":"eg："},"children":[]},{"data":{"id":"dcvkasxxpkg0","created":1758161678728,"text":"合约名.交互函数（之前设为接口的）"},"children":[]}]}]}]},{"data":{"id":"dcvkcmjdzi80","created":1758161821516,"text":"处理多返回值："},"children":[{"data":{"id":"dcvkex9gjns0","created":1758162001589,"text":"接收返回值的方法类似于python"},"children":[]},{"data":{"id":"dcvkf6o8dso0","created":1758162022073,"text":"eg："},"children":[{"data":{"id":"dcvkf86tirs0","created":1758162025374,"text":"返回3个uint"},"children":[]},{"data":{"id":"dcvkfatnfds0","created":1758162031108,"text":"uint a；\nuint c；"},"children":[]},{"data":{"id":"dcvkfibr09c0","created":1758162047440,"text":"（a, ,c)=函数"},"children":[{"data":{"id":"dcvkfv34txk0","created":1758162075217,"text":"只返回两个变量"},"children":[]}]}]}]}]},{"data":{"id":"dcvl3g60nq00","created":1758163923479,"text":"3、高级Solidity理论","expandState":"collapse"},"children":[{"data":{"id":"dcvl40yotzs0","created":1758163968749,"text":"第1章：智能协议的永固性："},"children":[{"data":{"id":"dcvl549yu6o0","created":1758164054325,"text":"永固性："},"children":[{"data":{"id":"dcvl5udb9rs0","created":1758164111124,"text":"不可更改"},"children":[]},{"data":{"id":"dcvl61qtizk0","created":1758164127178,"text":"遇到漏洞，只能放弃，转移到新的智能合约上"},"children":[]}]},{"data":{"id":"dcvl6tomyxs0","created":1758164187996,"text":"外部依赖关系："},"children":[{"data":{"id":"dcvl7adjsio0","created":1758164224331,"text":"之前，第二课，对于加密小猫使用了硬编码"},"children":[]},{"data":{"id":"dcvl7gzbjhc0","created":1758164238708,"text":"硬编码就是 明确地址"},"children":[]},{"data":{"id":"dcvl7um4ers0","created":1758164268385,"text":"要采用函数"},"children":[]},{"data":{"id":"dcvl7w5e4fc0","created":1758164271727,"text":"以便于cryptokitty修改之后，我们也可以通过函数修改值，而不至于放弃"},"children":[]}]}]},{"data":{"id":"dcvlfqphkdk0","created":1758164886794,"text":"第2章：Ownable contract"},"children":[{"data":{"id":"dcvlhnvo88g0","created":1758165037366,"text":"指定合约“所有权”"},"children":[]},{"data":{"id":"dcvrqdzib4w0","created":1758182647767,"text":"OpenZeppelin库的Ownable合约"},"children":[]},{"data":{"id":"dcvs29y1sx40","created":1758183579342,"text":"步骤："},"children":[{"data":{"id":"dcvs2b7aujc0","created":1758183582078,"text":"复制Ownable.sol 文件代码"},"children":[]},{"data":{"id":"dcvs2fu3joo0","created":1758183592164,"text":"给需要有所有权的 sol中import"},"children":[]},{"data":{"id":"dcvs2oix8a80","created":1758183611079,"text":"再继承 is Ownable"},"children":[]}]}]},{"data":{"id":"dcvs3stnnm00","created":1758183698800,"text":"第3章：onlyOwner函数修饰符"},"children":[{"data":{"id":"dcvs64ae58o0","created":1758183880484,"text":"modifier(修饰符) onlyOwner"},"children":[{"data":{"id":"dd1rwsn014g0","created":1758792509588,"text":"现在onlyOwner就是一个修饰符了"},"children":[]},{"data":{"id":"dd1rwys0teo0","created":1758792522952,"text":"如同public和view 一样使用了"},"children":[]}]},{"data":{"id":"dd1rw5esc4g0","created":1758792459025,"text":"function(函数) 函数名"},"children":[]}]},{"data":{"id":"dcvsb6tc9rc0","created":1758184277804,"text":"第4章：Gas"},"children":[{"data":{"id":"dcvscgn7w7s0","created":1758184377566,"text":"从这里了解到："},"children":[{"data":{"id":"dcvscivr86g0","created":1758184382436,"text":"以太坊【主链】与【侧链】"},"children":[]}]},{"data":{"id":"dcvscrb0yig0","created":1758184400774,"text":"省Gas的招数："},"children":[{"data":{"id":"dcvsetvgxfs0","created":1758184563092,"text":"小知识：","priority":6},"children":[{"data":{"id":"dcvsev5l0ow0","created":1758184565880,"text":"uint的变种："},"children":[{"data":{"id":"dcvsexf4kgw0","created":1758184570811,"text":"uint 默认 uint256"},"children":[]},{"data":{"id":"dcvsf6bi83c0","created":1758184590183,"text":"通常情况下，不会考虑使用uint变种"},"children":[]},{"data":{"id":"dcvsfbztx5k0","created":1758184602537,"text":"无论uint定为多大，比如uint8，Solidity也会保留256位，不会节省任何gas"},"children":[]},{"data":{"id":"dcvsggjf68w0","created":1758184690793,"text":"除非"},"children":[{"data":{"id":"dcvsgig74ww0","created":1758184694952,"text":"打包到struct中去"},"children":[]},{"data":{"id":"dcvsgvrzugg0","created":1758184723964,"text":"Solidity会打包，重新计算"},"children":[]}]},{"data":{"id":"dcvshws2bu80","created":1758184804509,"text":"并且尽量把相同类型的变量放在一起"},"children":[{"data":{"id":"dcvsiat9bkw0","created":1758184835056,"text":"A"},"children":[{"data":{"id":"dcvsieake3k0","created":1758184842633,"text":"uint32 a\nuint32 b\nuint     c"},"children":[]}]},{"data":{"id":"dcvsidgs0ww0","created":1758184840832,"text":"B","expandState":"expand"},"children":[{"data":{"id":"dcvsimp23rc0","created":1758184860923,"text":"uint32 a\nuint     c\nuint32 b"},"children":[]}]}]}]}]},{"data":{"id":"dcvscu13zkw0","created":1758184406704,"text":"【结构封装】"},"children":[]}]}]},{"data":{"id":"dcvslopzdgg0","created":1758185100425,"text":"第5章：时间单位"},"children":[{"data":{"id":"dcvsqrkojdk0","created":1758185498456,"text":"时间单位："},"children":[{"data":{"id":"dcvsqwjoaq00","created":1758185509279,"text":"常用："},"children":[{"data":{"id":"dcvsqzv9zaw0","created":1758185516511,"text":"now"},"children":[{"data":{"id":"dcvsr42gu5c0","created":1758185525653,"text":"返回从1970年到现在所过的秒"},"children":[]}]}]},{"data":{"id":"dcvsrer3m6o0","created":1758185548910,"text":"还包含："},"children":[{"data":{"id":"dcvsrhagpvs0","created":1758185554434,"text":"秒（seconds），分钟（minutes），小时（hours）"},"children":[]},{"data":{"id":"dcvsruy7wuw0","created":1758185584169,"text":"天（days），周（weeks），年（years）"},"children":[]},{"data":{"id":"dcvstjk4bts0","created":1758185716100,"text":"注意最后面的 【 s 】","priority":9},"children":[]}]}]},{"data":{"id":"dcvsufrbdko0","created":1758185786192,"text":"一般用uint32"},"children":[{"data":{"id":"dcvsunqid9s0","created":1758185803558,"text":"uint32 时间变量名=now；"},"children":[]},{"data":{"id":"dcvsuujeemo0","created":1758185818365,"text":"能用到2038年"},"children":[]}]}]},{"data":{"id":"dd1rn1y70p40","created":1758791746214,"text":"第6章：僵尸冷却"},"children":[{"data":{"id":"dd1rn5a6qxs0","created":1758791753470,"text":"传参结构体"},"children":[]},{"data":{"id":"dd1rnb9wo940","created":1758791766513,"text":"有返回值的函数returns前一般带view"},"children":[]}]},{"data":{"id":"dd2dgt6gpyw0","created":1758853321356,"text":"第8章：进一步了解函数修饰符"},"children":[{"data":{"id":"dd2dibxdy7c0","created":1758853440530,"text":"函数修饰符是可以带参数的"},"children":[]},{"data":{"id":"dd2digjvvgo0","created":1758853450598,"text":"首先再度解释函数修饰符的概念："},"children":[{"data":{"id":"dd2dio4b8m00","created":1758853467070,"text":"使用modifier 来定义一个修饰符"},"children":[{"data":{"id":"dd2dj10n8oo0","created":1758853495147,"text":"里面含有方法"},"children":[]}]},{"data":{"id":"dd2dj3yltwg0","created":1758853501554,"text":"然后在function函数后使用"},"children":[]},{"data":{"id":"dd2djc9icv40","created":1758853519627,"text":"在调用对应函数时，会“先”调用修饰符里面的方法，相当于一个前置器"},"children":[{"data":{"id":"dd2djvyudts0","created":1758853562518,"text":"相当于函数中，调用修饰函数（最前面）"},"children":[]}]},{"data":{"id":"dd2dk9d0h0g0","created":1758853591673,"text":"因此可以有参数，是因为这玩意，功能上类似于函数"},"children":[{"data":{"id":"dd2dma16a2w0","created":1758853749862,"text":"但是是宿主函数来传参","priority":5},"children":[]},{"data":{"id":"dd2dmnawq5c0","created":1758853778749,"text":"如果宿主函数只有一个参数，而修饰符有两个参数"},"children":[]},{"data":{"id":"dd2dmt7pohs0","created":1758853791617,"text":"那么其中一个必然是一个确定值"},"children":[]},{"data":{"id":"dd2dn62e8a80","created":1758853819593,"text":"而另一个要么由宿主传参，要么也是确定值"},"children":[]}]}]},{"data":{"id":"dd2dpazij8o0","created":1758853987031,"text":"还有一点注意："},"children":[{"data":{"id":"dd2dpd5hw7k0","created":1758853991747,"text":"修饰符内 最后一行为_;","priority":6},"children":[]}]}]},{"data":{"id":"dd2eldyryt40","created":1758856501170,"text":"第12章：For循环"},"children":[{"data":{"id":"dd2f0t1o3pk0","created":1758857709459,"text":"如同java"},"children":[]}]},{"data":{"id":"dd2e19jssls0","created":1758854924274,"text":"没啥用的","expandState":"expand"},"children":[{"data":{"id":"dd1rtpadkjs0","created":1758792267202,"text":"第7章：公有函数与安全性"},"children":[{"data":{"id":"dd2dg5q7cio0","created":1758853270307,"text":"这里只是简单的通过关键词与require函数来保证"},"children":[]}]},{"data":{"id":"dd2ds4w75b40","created":1758854208863,"text":"第9章：僵尸修饰符","expandState":"expand"},"children":[]},{"data":{"id":"dd2e0y5exvc0","created":1758854899460,"text":"第10章：利用“view”函数节省gas"},"children":[{"data":{"id":"dd2e2uibn4g0","created":1758855048262,"text":"怎么节省："},"children":[{"data":{"id":"dd2e2xtkkqg0","created":1758855055472,"text":"使用了view的函数，不花费gas"},"children":[]},{"data":{"id":"dd2e4ovajkw0","created":1758855192713,"text":"因为只需查询，不需要创建一个事务"},"children":[{"data":{"id":"dd2e4t3lru00","created":1758855201923,"text":"如同数据库般，增删改都有事务约束"},"children":[]}]}]},{"data":{"id":"dd2e8edcc3s0","created":1758855483317,"text":"but"},"children":[{"data":{"id":"dd2fh7jfu7s0","created":1758858994835,"text":"外部调用（如javascript），不产生gas费用"},"children":[]},{"data":{"id":"dd2fhi5urnc0","created":1758859017959,"text":"内部调用看情况"},"children":[{"data":{"id":"dd2fjhb9swo0","created":1758859172838,"text":"不消耗gas的"},"children":[{"data":{"id":"dd2fjk6rmsg0","created":1758859179096,"text":"在另一个view或pure中调用"},"children":[]},{"data":{"id":"dd2fjq50xlk0","created":1758859192051,"text":"构造函数调用"},"children":[]}]},{"data":{"id":"dd2fjwtruf40","created":1758859206608,"text":"消耗gas的"},"children":[]}]}]}]},{"data":{"id":"dd2ebwmi7ts0","created":1758855758146,"text":"第11章：存储 昂贵"},"children":[{"data":{"id":"dd2edisrv7c0","created":1758855884778,"text":"Solidity使用【storage】是相当昂贵的"},"children":[{"data":{"id":"dd2edqezf480","created":1758855901358,"text":"能用遍历，就用遍历，因为便宜"},"children":[]}]},{"data":{"id":"dd2eejgif800","created":1758855964577,"text":"最好使用【memory】"},"children":[{"data":{"id":"dd2eepzcrs80","created":1758855978777,"text":"函数调用时就解散"},"children":[]},{"data":{"id":"dd2ef1xdy400","created":1758856004780,"text":"放到view里面，基本不用花gas"},"children":[]}]}]}]}]},{"data":{"id":"dd2f6xqkvzc0","created":1758858189858,"text":"4、僵尸作战系统","expandState":"collapse"},"children":[{"data":{"id":"dd2f758b6ig0","created":1758858206167,"text":"第1章：可支付"},"children":[{"data":{"id":"dd36v8sz9ew0","created":1758936264655,"text":"payable修饰符"},"children":[]},{"data":{"id":"dd36vl6pfuo0","created":1758936291606,"text":"msg.value"},"children":[{"data":{"id":"dd36vn7ulbk0","created":1758936296029,"text":"查看向合约发了多少以太"},"children":[]}]},{"data":{"id":"dd37sjrb1wo0","created":1758938874516,"text":"从web3.js那里发"},"children":[{"data":{"id":"dd37swx7ycg0","created":1758938903172,"text":"或者点击发送"},"children":[]}]}]},{"data":{"id":"dd37t3d8ja80","created":1758938917201,"text":"第2章：提现"},"children":[{"data":{"id":"dd3840kwkxc0","created":1758939773140,"text":"地址.transfer(xx ether)"},"children":[]},{"data":{"id":"dd3859iyy800","created":1758939870978,"text":"应该叫“转发”比较贴切"},"children":[]}]},{"data":{"id":"dd38500jegw0","created":1758939850272,"text":"第3章：僵尸战斗"},"children":[{"data":{"id":"dd387o6a5200","created":1758940059591,"text":"创建一个新合约"},"children":[]},{"data":{"id":"dd3884276nk0","created":1758940094172,"text":"突然发现目前的4个手敲的合约，都呈现继承关系"},"children":[]},{"data":{"id":"dd388herl540","created":1758940123231,"text":"曾爷爷、爷爷、爸爸、我"},"children":[]}]},{"data":{"id":"dd388xek2so0","created":1758940158046,"text":"第4章：随机数"},"children":[{"data":{"id":"dd38afxp61s0","created":1758940276750,"text":"这里学到的随机数函数容易被“不诚实的结点攻击”，不记了"},"children":[{"data":{"id":"dd38blkbywo0","created":1758940367367,"text":"为什么不安全，因为我能时停看骰子"},"children":[]},{"data":{"id":"dd38bwyw1ls0","created":1758940392192,"text":"看到不好的，就重来"},"children":[]}]}]},{"data":{"id":"dd42v5a8edk0","created":1759026532508,"text":"无用","expandState":"expand"},"children":[{"data":{"id":"dd38kiqpops0","created":1758941066500,"text":"第5章：僵尸对战"},"children":[]},{"data":{"id":"dd42nksp48g0","created":1759025939363,"text":"第6章：重构通用逻辑"},"children":[{"data":{"id":"dd42rjdyo8w0","created":1759026249752,"text":"使用modifier，减少代码复写"},"children":[]}]},{"data":{"id":"dd42rdoffu80","created":1759026237324,"text":"第7章：更多重构"},"children":[{"data":{"id":"dd42th9m1oo0","created":1759026401864,"text":"同上"},"children":[]}]},{"data":{"id":"dd42utou1280","created":1759026507270,"text":"第8章：回到攻击"},"children":[{"data":{"id":"dd42y75jqsg0","created":1759026771671,"text":"获得僵尸所有权，我的他的"},"children":[]}]},{"data":{"id":"dd42yjrflwo0","created":1759026799116,"text":"第9章：僵尸输赢"},"children":[]},{"data":{"id":"dd434jzx8940","created":1759027269814,"text":"第10章：僵尸胜利了"},"children":[]},{"data":{"id":"dd43d71izyw0","created":1759027946890,"text":"第11章：僵尸失败"},"children":[]}]}]},{"data":{"id":"dd43fwe0beg0","created":1759028158793,"text":"5、ERC721标准和加密收藏品"},"children":[{"data":{"id":"dd43g5i5otk0","created":1759028178635,"text":"第1章：以太坊上的代币"},"children":[{"data":{"id":"dd43ju14kdk0","created":1759028467117,"text":"了解："},"children":[{"data":{"id":"dd43jvr5w940","created":1759028470868,"text":"ERC20代币："},"children":[{"data":{"id":"dd43kh2c5nk0","created":1759028517256,"text":"如以太"},"children":[]}]},{"data":{"id":"dd43jyrdaps0","created":1759028477411,"text":"ERC721代币："},"children":[{"data":{"id":"dd43k52tzaw0","created":1759028491165,"text":"不能互换"},"children":[]},{"data":{"id":"dd43k7fifs80","created":1759028496285,"text":"唯一且不可分割的"},"children":[{"data":{"id":"dd43kcydj8g0","created":1759028508309,"text":"有唯一ID"},"children":[]}]}]}]}]},{"data":{"id":"dd43opu2ggw0","created":1759028849804,"text":"第2章：ERC721标准，多重继承"},"children":[{"data":{"id":"dd43sadz7io0","created":1759029129636,"text":"加个“，”分隔下就可以了"},"children":[]}]},{"data":{"id":"dd43sj7ff940","created":1759029148831,"text":"第3章：balanceOf 和 ownerOf"},"children":[{"data":{"id":"dd43xkahieg0","created":1759029543013,"text":"模拟了下"},"children":[{"data":{"id":"dd43xm8bh940","created":1759029547236,"text":"ownerOf 与 balanceOf"},"children":[]}]}]},{"data":{"id":"dd43xw8zisw0","created":1759029569044,"text":"第4章：重构"},"children":[{"data":{"id":"dd43zpq8n080","created":1759029711578,"text":"因为之前的modifier定义 ownerOf与上面那个冲突了"},"children":[]}]},{"data":{"id":"dd440413k0w0","created":1759029742710,"text":"第5章：ERC721：转移标准"},"children":[{"data":{"id":"dd44fgrlsa00","created":1759030945896,"text":"有两种不同的方法来转移代币："},"children":[{"data":{"id":"dd44fug3gvc0","created":1759030975675,"text":"需知：","expandState":"expand"},"children":[{"data":{"id":"dd44fwigvvk0","created":1759030980172,"text":"function transfer……"},"children":[]},{"data":{"id":"dd44g4piu5c0","created":1759030998013,"text":"function approve……\nfunction takeOwnership……"},"children":[]},{"data":{"id":"dd44gn294cg0","created":1759031037965,"text":"transfer 与 approve 传参相同"},"children":[]}]},{"data":{"id":"dd44gu1m6yw0","created":1759031053164,"text":"不同的是："},"children":[{"data":{"id":"dd44gwbq0b40","created":1759031058129,"text":"transfer："},"children":[{"data":{"id":"dd44h2p0lq00","created":1759031071993,"text":"直接传"},"children":[]}]},{"data":{"id":"dd44gz39u3s0","created":1759031064148,"text":"approve"},"children":[{"data":{"id":"dd44h7r3t600","created":1759031083003,"text":"调用approve函数，批准目标可以获取代币"},"children":[]},{"data":{"id":"dd44i0d6hug0","created":1759031145288,"text":"然后被批准者（_to）调用takeOwnership进行接收"},"children":[]}]},{"data":{"id":"dd44ieepcps0","created":1759031175855,"text":"前者直接转账，后者开支票"},"children":[{"data":{"id":"dd44ik4ksq80","created":1759031188303,"text":"大概如此"},"children":[]}]}]}]}]},{"data":{"id":"dd44nakf78o0","created":1759031559315,"text":"第6章：ERC721：转移-续"},"children":[{"data":{"id":"dd44yztgj3s0","created":1759032476286,"text":"写_transfer"},"children":[]},{"data":{"id":"dd44ujqsvy00","created":1759032127841,"text":"写transfer"},"children":[]},{"data":{"id":"dd44t3lemwg0","created":1759032014322,"text":"最后一步记得调用事件（erc721.sol里面的）"},"children":[{"data":{"id":"dd44tdq0di80","created":1759032036368,"text":"你在手机上完成了转账步骤代码，肯定得联网进行啊"},"children":[]}]}]},{"data":{"id":"dd44p4zm3r40","created":1759031703901,"text":"第7章：ERC721：批准"},"children":[{"data":{"id":"dd44um2un4w0","created":1759032132923,"text":"写approve"},"children":[]},{"data":{"id":"dd44uuox9gg0","created":1759032151672,"text":"最后一步同上"},"children":[]}]},{"data":{"id":"dd44vd4791k0","created":1759032191777,"text":"第8章：ERC721：takeOwnership"},"children":[{"data":{"id":"dd44ymy3of40","created":1759032448269,"text":"最后依旧调用_transfer函数"},"children":[]}]},{"data":{"id":"dd44z70vs000","created":1759032491973,"text":"第9章：预防溢出","expandState":"expand"},"children":[{"data":{"id":"ddf3awo366o0","created":1760144927105,"text":"使用safeMath 库（library）"},"children":[{"data":{"id":"ddf3czvwqcg0","created":1760145090836,"text":"使用其内置方法进行加减乘除运算"},"children":[]}]},{"data":{"id":"ddf3xye08gw0","created":1760146733224,"text":"使用："},"children":[{"data":{"id":"ddf3xzop9gg0","created":1760146736048,"text":"引入 import"},"children":[]},{"data":{"id":"ddf3y2nsz1k0","created":1760146742524,"text":"然后定义"},"children":[{"data":{"id":"ddf3y4fur340","created":1760146746397,"text":"using SafeMath for uint256","font-weight":"bold"},"children":[]}]}]},{"data":{"id":"ddf3dnk6jmo0","created":1760145142370,"text":"第10章：safeMath第二部分"},"children":[{"data":{"id":"ddf3m1cct2w0","created":1760145799285,"text":"uint x=10；"},"children":[]},{"data":{"id":"ddf3mag5jq80","created":1760145819106,"text":"让其++"},"children":[]},{"data":{"id":"ddf3mdgzavk0","created":1760145825686,"text":"正常情况下做法："},"children":[{"data":{"id":"ddf3mitrno80","created":1760145837343,"text":"x++;"},"children":[]}]},{"data":{"id":"ddf3mlmxlhk0","created":1760145843460,"text":"防溢出做法：(使用safeMath)"},"children":[{"data":{"id":"ddf3mnra6m00","created":1760145848077,"text":"x.add(1);"},"children":[]}]}]},{"data":{"id":"ddf3nbk4zhc0","created":1760145899888,"text":"第11章：safeMath第三部分"},"children":[{"data":{"id":"ddijh1umaa80","created":1760495226197,"text":"有个小问题："},"children":[{"data":{"id":"ddijh3t8y4o0","created":1760495230468,"text":"其防溢出机制有“两种”"},"children":[{"data":{"id":"ddijit5qbvc0","created":1760495364006,"text":"一、","expandState":"expand"},"children":[{"data":{"id":"ddijhby07q80","created":1760495248170,"text":"严格意义上来说 不是防溢出机制，但达到了目的"},"children":[]},{"data":{"id":"ddijhq3pnnc0","created":1760495278990,"text":"以 ~ 为例子："},"children":[{"data":{"id":"ddijhwc0q940","created":1760495292553,"text":"uint16 A；uint16 B；uint32 C"},"children":[]},{"data":{"id":"ddiji9in6rk0","created":1760495321251,"text":"当A和B   与  C 使用safeMath运算时"},"children":[]},{"data":{"id":"ddijiy5esmw0","created":1760495374871,"text":"其实是将它们转为uint256计算"},"children":[]}]}]},{"data":{"id":"ddijj5te2w00","created":1760495391558,"text":"二、（使用safeMath时，最好使用该方法）"},"children":[{"data":{"id":"ddijjhcp03s0","created":1760495416670,"text":"定义整形时"},"children":[]},{"data":{"id":"ddijmi29hs80","created":1760495653309,"text":"最好额外定义库，重写库方法"},"children":[{"data":{"id":"ddijmn7t93s0","created":1760495664528,"text":"因为safeMath自带的默认方法 ，都是将uint转化为uint256来计算"},"children":[]}]},{"data":{"id":"ddijkd8cqzk0","created":1760495486065,"text":"可以防止溢出或下溢出"},"children":[]}]}]}]}]}]}]},{"data":{"id":"dd43nlwjxtc0","created":1759028762883,"text":"这个学习课程还挺多问题的"},"children":[{"data":{"id":"dd43ntspcgw0","created":1759028780064,"text":"eg："},"children":[{"data":{"id":"dd43nuvpzv40","created":1759028782424,"text":"做完得手动链接跳转"},"children":[]},{"data":{"id":"dd43nzuqqu80","created":1759028793248,"text":"调用函数名错误"},"children":[]},{"data":{"id":"dd43o76o4wo0","created":1759028809207,"text":"属性未加入，也照样能运行"},"children":[]},{"data":{"id":"dd43ojhq8kw0","created":1759028835997,"text":"……"},"children":[]}]}]}]},"template":"default","theme":"classic","version":"1.4.43"}